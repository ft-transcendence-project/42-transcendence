<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>REST APIドキュメント(OpenAPI)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.0/swagger-ui.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <nav class="bg-gray-800 text-white p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">REST APIドキュメント(OpenAPI)</h1>
            <a href="../index.html" class="text-white hover:text-gray-300">Back to Home</a>
        </div>
    </nav>

    <div class="container mx-auto mt-4 p-4">
        <div class="mb-4">
            <select id="specSelector" class="p-2 border rounded" onchange="loadSpec(this.value)">
                <option value="Accounts.yaml">Accounts API</option>
                <option value="Oauth.yaml">Oauth API</option>
                <option value="Tournament.yaml">Tournament API</option>
                <option value="Gameplay.yaml">Gameplay API</option>
            </select>
        </div>
        <div id="swagger-ui"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.0/swagger-ui-bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.11.0/swagger-ui-standalone-preset.js"></script>
    <script>
        function loadSpec(specFile) {
            const ui = SwaggerUIBundle({
                url: specFile,
                dom_id: '#swagger-ui',
                deepLinking: true,
                docExpansion: 'list',
                defaultModelExpandDepth: 1,
                // 1カラムレイアウトを強制
                defaultModelRendering: 'model',
                displayRequestDuration: true,
                filter: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "BaseLayout"
            });
        }

        // Load default spec
        window.onload = function() {
            loadSpec('Accounts.yaml');
        }
    </script>
</body>
</html>
